"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[742],{2742:function(e,t,n){n.r(t);var r=n(3789),a=n(318),s=n(6486),l=n(7294),c=n(2785),i=n(4891),o=n(5893);t.default=function(e){var t=e.boatManager,n=e.serialControl,u=l.useState(0),d=(0,a.Z)(u,2),x=d[0],m=d[1],g=l.useState(100),f=(0,a.Z)(g,2),p=f[0],b=f[1],v=l.useState(100),h=(0,a.Z)(v,2),j=h[0],N=h[1],S=l.useState({previous:[0,0],current:[0,0]}),y=(0,a.Z)(S,2),k=y[0],w=y[1],P=l.useState({previous:[0,0],current:[0,0]}),Z=(0,a.Z)(P,2),E=Z[0],I=Z[1],z=l.useState({previous:[0,0],current:[0,0]}),T=(0,a.Z)(z,2),L=T[0],_=T[1],R=l.useState({previous:[0,0],current:[0,0]}),A=(0,a.Z)(R,2),C=A[0],F=A[1],M=l.useState("text-sm"),V=(0,a.Z)(M,2),D=V[0],G=V[1],X=l.useState("text-xs"),Y=(0,a.Z)(X,2),B=Y[0],O=Y[1],U=l.useState("text-xs"),q=(0,a.Z)(U,2),H=q[0],J=q[1],K=l.useState("text-xs"),Q=(0,a.Z)(K,2),W=Q[0],$=Q[1],ee=l.useState("text-xs"),te=(0,a.Z)(ee,2),ne=te[0],re=te[1],ae=l.useState("text-2xs"),se=(0,a.Z)(ae,2),le=se[0],ce=se[1],ie=l.useState("text-xs"),oe=(0,a.Z)(ie,2),ue=oe[0],de=oe[1],xe=((0,c.Z)((function(e){return e.currentBoatspeed})),l.useState(!0)),me=(0,a.Z)(xe,2),ge=me[0];me[1];(0,l.useEffect)((function(){return t.on("changeIndicator",(function(e){var t=e.rpm,n=e.oilPressure,r=e.trim,a=e.temperature,s=e.speed,l=e.fuel,c=e.oil;null!=t&&null!=n&&null!=r&&null!=a&&null!=s&&null!=l&&null!=c&&(_(t),w(n),I(r),F(a),m(s),b(l),N(c))})),n.on("data",(function(e){var n=e.command,r=e.rpm,a=e.oilPressure,s=e.trim,l=e.temperature,c=e.speed,i=e.fuel,o=e.oil;"changeIndicator"==n&&t.activateDataListener&&null!=c&&(_(r),w(a),I(s),F(l),m(c),b(i),N(o))})),t.on("refuel",(function(){b(100)})),t.activateDataListener?t.requestSyncronize("EngineIndicator"):t.localSyncronize("EngineIndicator"),t.maximized&&(G("text-lg"),O("text-sm"),J("text-base"),$("text-lg"),re("text-base"),ce("text-base"),de("text-base")),function(){t.cleanup()}}),[]);var fe=function(e,t,n){var a=e.toString().length,l=(0,s.range)(0,e+t,t).reverse().map((function(e){var t,r=e.toString().length<a?(0,s.range)(0,a-e.toString().length).map((function(){return"_"})).join("")+e.toString():e.toString();return t=r,(0,o.jsxs)("div",{className:"flex items-center justify-end ".concat(n?"flex-row-reverse":""),children:[(0,o.jsx)("span",{className:"block ".concat(H," text-right"),children:t}),"\xa0",(0,o.jsx)("span",{className:"flex-1",children:(0,o.jsx)("hr",{})})]},t)}));return(0,r.Z)(l)};function pe(e){var t=e.percentage;return"".concat(t,"%")}var be=function(e){var t=e.title,n=e.unit,r=e.max,a=e.interval,s=e.bars,l=e.reverse,c=void 0!==l&&l;return(0,o.jsx)("div",{className:"px-1",children:(0,o.jsxs)("div",{className:"flex flex-col container rounded-md bg-gray-600 h-full",children:[(0,o.jsxs)("div",{className:"flex justify-between font-bold p-2",children:[(0,o.jsx)("span",{className:B,children:t}),(0,o.jsx)("span",{className:B,children:n})]}),(0,o.jsx)("div",{className:"overflow-hidden flex flex-col items-end h-full border border-black rounded-md relative bg-gradient-to-b from-gray-500 to-gray-600",children:(0,o.jsxs)("div",{className:"flex-1 p-2 flex flex-col w-full justify-between relative",children:[fe(r,a,c),(0,o.jsx)("div",{className:"absolute flex z-40 bottom-0 h-full w-full ".concat(c?"pr-8 pl-3":"pr-3 pl-4"," pt-2.5"),children:s.map((function(e){return function(e){var t=e.startPercentage,n=e.percentage,r=e.index,a=e.color;return(0,o.jsxs)("div",{className:"flex flex-col justify-end items-center h-full w-1/2 px-2.5",children:[(0,o.jsxs)("div",{className:"bar relative h-full w-full",children:[(0,o.jsx)(i.E.div,{transformTemplate:pe,initial:{height:t+"%"},style:{height:t+"%"},transition:{duration:0},animate:{height:n+"%"},className:"absolute bottom-0 ".concat(a," mr-1 w-full")}),(0,o.jsx)("div",{className:"bg-gray-800 mr-1 w-full h-full"})]}),(0,o.jsx)("span",{children:r})]},r)}(e)}))})]})})]})})},ve=function(){return be({title:"RPM",unit:"(1x100)",max:60,interval:20,bars:[{startPercentage:L.previous[0],percentage:L.current[0],index:1,color:"bg-blue-500"},{startPercentage:L.previous[1],percentage:L.current[1],index:2,color:"bg-red-500"}]})},he=function(){return be({title:"Oil Pressure",unit:"(kPa)",max:600,interval:100,bars:[{startPercentage:k.previous[0],percentage:k.current[0],index:1,color:"bg-blue-500"},{startPercentage:k.previous[1],percentage:k.current[1],index:2,color:"bg-blue-500"}]})},je=function(){return be({title:"Trim",unit:"",max:100,interval:20,reverse:!0,bars:[{startPercentage:E.previous[0],percentage:E.current[0],index:1,color:"bg-blue-500"},{startPercentage:E.previous[1],percentage:E.current[1],index:2,color:"bg-blue-500"}]})},Ne=function(){return be({title:"Eng Temp",unit:"(\xb0C)",max:90,interval:30,reverse:!0,bars:[{startPercentage:C.previous[0],percentage:C.current[0],index:1,color:"bg-blue-500"},{startPercentage:C.previous[1],percentage:C.current[1],index:2,color:"bg-blue-500"}]})},Se=function(e,t,n){return Math.min(Math.max(e,t),n)};function ye(e){var t=e.rotate;return"rotate(".concat(t,")")}return(0,o.jsxs)("div",{style:{backgroundImage:"url(./bg_engine.png)",backgroundRepeat:"repeat"},className:"grid grid-cols-4 gap-1 text-white text-xs bg-gray-900 h-full ".concat(ge?"visible":"invisible"),children:[(0,o.jsx)("div",{className:"",children:(0,o.jsx)("div",{style:{backgroundImage:"url('./Logo Nasdec-STP-ITS.svg')",backgroundPositionY:"center",backgroundPositionX:"center",backgroundRepeat:"no-repeat",backgroundSize:"contain"},className:"rounded bg-white w-full h-full "})}),(0,o.jsx)("div",{className:"col-span-2 text-center align-middle m-auto font-bold",children:(0,o.jsx)("span",{className:D,children:"ENGINE"})}),(0,o.jsxs)("div",{className:"flex flex-col justify-center container rounded-md bg-gray-600 text-center",children:[(0,o.jsx)("span",{className:"font-bold ".concat(W),children:"Voltage"}),(0,o.jsxs)("span",{className:"flex",children:[(0,o.jsx)("span",{className:"flex-1 ".concat(W),children:"12.5V"}),(0,o.jsx)("span",{className:"flex-1 ".concat(W),children:"12.5V"})]})]}),(0,o.jsx)(he,{}),(0,o.jsx)("div",{className:"col-span-2 row-span-2 text-center text-xs align-middle font-bold",children:(0,o.jsxs)("div",{className:"grid grid-cols-4 gap-1 h-full",children:[(0,s.range)(0,2).map((function(e){return(0,o.jsx)("div",{className:"col-span-2",children:(0,o.jsxs)("div",{style:{backgroundImage:"url('./speedmeter.svg')",backgroundPositionX:"center",backgroundPositionY:"center",backgroundRepeat:"no-repeat",backgroundSize:"contain"},className:"relative flex items-center",children:[(0,o.jsx)("div",{className:"absolute w-full top-1/3",children:(0,o.jsx)("span",{className:"block ".concat(ne),children:"AVG SPEED"})}),(0,o.jsx)("div",{className:"absolute w-full bottom-1/5 mb-",children:(0,o.jsx)("span",{className:"block ".concat(le),children:x.toFixed(0)})}),(0,o.jsx)(i.E.img,{transformTemplate:ye,transition:{duration:0},style:{rotate:0},animate:{rotate:4.6*x},className:"z-30",src:"./needle.svg",alt:"needle"})]})},e)})),(0,s.range)(0,4).map((function(e,t){return(0,o.jsxs)("div",{style:{backgroundImage:"url('./fuelmeter.svg')",backgroundPositionX:"center",backgroundPositionY:"center",backgroundRepeat:"no-repeat",backgroundSize:"contain"},className:"relative flex items-center",children:[(0,o.jsx)("div",{className:"absolute w-full top-1/4",children:(0,o.jsx)("span",{className:"block ".concat(ne),children:t%2===0?"FUEL":"LUB-OIL"})}),(0,o.jsx)("div",{className:"absolute w-full bottom-1/5 mb-",children:(0,o.jsxs)("span",{className:"block ".concat(le),children:[e%2==0?Se(p,0,100).toFixed(0):Se(j,0,100).toFixed(0),"%"]})}),(0,o.jsx)(i.E.img,{transformTemplate:ye,transition:{duration:0},style:{rotate:0},animate:{rotate:e%2==0?45+1.84*Se(p,0,100):45+1.84*Se(j,0,100)},className:"z-30",src:"./needle.svg",alt:"needle"})]},e)})),(0,s.range)(0,2).map((function(e,t){return(0,o.jsx)("div",{className:"col-span-2 m-auto",children:(0,o.jsxs)("div",{className:"flex flex-col",children:[(0,o.jsxs)("span",{className:ue,children:["ENGINE ",t+1]}),(0,o.jsxs)("span",{className:ue,children:["00",".","00","h"]})]})},e)}))]})}),(0,o.jsx)(je,{}),(0,o.jsx)(ve,{}),(0,o.jsx)(Ne,{})]})}},3789:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(6586);var a=n(6988);function s(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);